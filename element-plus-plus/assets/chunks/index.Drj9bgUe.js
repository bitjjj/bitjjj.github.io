import{w as h}from"./install.CDck28KX.js";import{M as d,I as z}from"./theme.BKaFdXT3.js";import{y as E,r as f,f as c,o as S,z as l,A as m,P as b,a4 as g,E as v,H as n,I as o,u,B as C,O as A,D as B,C as F,F as L}from"./framework.CPxOa8kE.js";const $={data:{type:Array,default:()=>[]},indent:String,size:{type:[Number,String],default:"default"},fit:{type:String,default:"cover"},shape:{type:String,default:"circle"},urlField:{type:String,default:"url"},max:{type:Number,default:Number.MAX_SAFE_INTEGER},maxBgColor:{type:String,default:"black"},popoverProps:{type:Object,default:()=>({})}},M={click:i=>i instanceof Object},P=E({name:"EppAvatarList",__name:"avatar-list",props:$,emits:M,setup(i){const a=i,r=f(a.indent),p=f(),y=c(()=>{if(isNaN(+a.max)||a.data.length<a.max)return a.data;{const e={[a.urlField]:"LAST_NUMBER",maxNumber:a.data.length-a.max};return[...a.data.slice(0,a.max),e]}}),k=c(()=>{let e="";if(!isNaN(+a.max)&&a.data.length>a.max){const s=a.data.length-a.max;s<10?e="less-10":s<100?e="less-100":s<1e3?e="less-1k":s<1e4?e="less-10k":s<1e5&&(e="less-100k")}return e});return S(()=>{if(!r.value){const e=p.value.querySelector(".el-avatar");try{r.value=-e.offsetWidth/2+"px"}catch{r.value="0px"}}}),(e,s)=>(l(),m("div",{ref_key:"spaceRef",ref:p,class:"epp-avatar-list",style:v(`--indent: ${r.value}`)},[(l(!0),m(b,null,g(y.value,t=>(l(),n(u(z),L({key:t[e.urlField],trigger:"hover",disabled:!t[e.urlField]||t[e.urlField]==="LAST_NUMBER"||!e.$slots.tip,ref_for:!0},e.popoverProps),{reference:o(()=>[t[e.urlField]!=="LAST_NUMBER"?(l(),n(u(d),{key:0,src:t[e.urlField],size:e.size,fit:e.fit,shape:e.shape,onClick:N=>e.$emit("click",t)},null,8,["src","size","fit","shape","onClick"])):(l(),n(u(d),{key:1,size:e.size,fit:e.fit,style:v("background-color:"+e.maxBgColor),bordered:"",round:"",onClick:N=>e.$emit("click",t)},{default:o(()=>[C("span",{class:B(k.value)},A(t.maxNumber),3)]),_:2},1032,["size","fit","style","onClick"]))]),default:o(()=>[F(e.$slots,"tip",{item:t})]),_:2},1040,["disabled"]))),128))],4))}}),w=h(P);export{w as E};
